<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Documentation Niralakka - API & Hooks</title>
  <link href="assets/style/style.css" rel="stylesheet">
</head>
<body>

  <header>
    <img src="assets/img/niralakka_logo.png" alt="Logo React" class="niralakka_logo">
  </header>

<main>

  <section>
    <a href="index.html" class="arrow-link"><span class="arrow">&larr;</span></a>
    <h2>Organisation API & Hooks</h2>
    <p>
      Le projet s√©pare les appels r√©seau et la logique React gr√¢ce √† deux dossiers principaux :
      <code>api/</code> et <code>hooks/</code>.
    </p>
    <pre>
/api
/hooks
    </pre>
  </section>

  <section>
    <h2>1. Dossier <code>api/</code></h2>
    <p>
      Contient toutes les fonctions qui communiquent avec le backend. Chaque fichier correspond √† une ressource ou
      un ensemble de routes.
    </p>
    <ul>
      <li>Centralise toutes les requ√™tes HTTP.</li>
      <li>Facilite les modifications si l'URL ou les headers changent.</li>
      <li>Permet la r√©utilisation des fonctions dans diff√©rents contextes (tests, scripts...).</li>
    </ul>
    <pre>
// api/clientApi.js
import axios from "axios";

export const getClientById = async (id) => {
  const response = await axios.get(`http://localhost:8000/client/${id}`);
  return response.data;
};
    </pre>
  </section>

  <section>
    <h2>2. Dossier <code>hooks/</code></h2>
    <p>
      Contient les <em>custom hooks React</em> qui utilisent les fonctions du dossier <code>api/</code>.
      Ils g√®rent le chargement, les erreurs, le cache et adaptent les donn√©es pour les composants.
    </p>
    <ul>
      <li>Utilisent les fonctions API pour r√©cup√©rer ou modifier des donn√©es.</li>
      <li>G√®rent les √©tats <code>isLoading</code>, <code>isError</code>, etc.</li>
      <li>Encapsulent la logique React et TanStack Query.</li>
    </ul>
    <pre>
// hooks/useClient.js
import { useQuery } from "@tanstack/react-query";
import { getClientById } from "../api/clientApi";

export const useClient = (id) => {
  return useQuery({
    queryKey: ["client", id],
    queryFn: () => getClientById(id),
  });
};
    </pre>
  </section>

  <section>
    <h2>3. Pourquoi s√©parer <code>api/</code> et <code>hooks/</code> ?</h2>
    <ul>
      <li><strong>S√©paration des responsabilit√©s :</strong> <code>api/</code> pour le backend, <code>hooks/</code> pour React.</li>
      <li><strong>R√©utilisabilit√© :</strong> les fonctions API peuvent √™tre utilis√©es dans plusieurs hooks.</li>
      <li><strong>Testabilit√© :</strong> tu peux tester la fonction API ind√©pendamment du hook.</li>
      <li><strong>√âvolutivit√© :</strong> changer la librairie React Query n'impacte pas l'API.</li>
    </ul>
    <div class="tip">
      üí° Astuce : chaque ressource de l'API doit avoir ses hooks d√©di√©s pour garder une architecture claire et maintenable.
    </div>
  </section>

  <section>
    <h2>R√©sum√©</h2>
    <ol>
      <li><code>api/</code> : centralise toutes les requ√™tes HTTP pour les donn√©es backend.</li>
      <li><code>hooks/</code> : pont entre l'API et React, g√®re √©tats, cache et int√©gration avec TanStack Query.</li>
    </ol>
  </section>

</main>

<footer>
  &copy; 2025 Niralakka - Documentation interne
</footer>

</body>
</html>
